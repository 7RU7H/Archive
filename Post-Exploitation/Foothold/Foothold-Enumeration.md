# Foothold Enumeration

Post exploitation that grant a foothold on a inital network box then leads to the next phase in the [[Lockhead-Martin-Cyber-Kill-Chain]] of another phase of information gathering about the users, OS and kernel, system and service configuration, hardware, network infrastructure ...

For OS specific command line cheatsheet see [[Core-Linux-Commands]] and [[Windows-CLI-cmd]] for some but check the directory for other for modules and other shells. 

For OS specific privilege escalation cheatsheets: [[Linux-Privilege-Escalation]], [[Windows-Privilege-Escalation]], a general set of commands and links to how some the table contents work will be linked below.


## Users and groups
Enumeration Targetable | Linux Specific | Windows Specific
--- | --- | ---
Usernames | `cat /etc/passwd`, `id`, `whoami` | `net user`, `net accounts domain`
Credentials (saved on web browsers or client applications) | | 
ssh keys | `/.ssh` | 
Recent login | `w`, `w -ip`, `last`  | 
Groups | `cat /etc/groups` | `net localgroup administrators` 

## File and Directory Permissions
Enumeration Targetable | Linux Specific | Windows Specific
--- | --- | ---
.conf files |  | 
.log files |  | 
.bak directory/files  |  | 
.git - credentials and keys for developer convience  |  | 
executables | `/usr/` `/bin/` | See for the weirdness of [[Windows-File-System]]

## Network Related 
Enumeration Targetable | Linux Specific | Windows Specific
--- | --- | ---
Hostnames | `/etc/hostname`, `/etc/hosts` | 
Interfaces | `ip a` `ifconf -a` | `ipconfig /all`
Routing tables | `iptables` | 
Network shares | `smbclient -L`  | `net share`
Network services | (with sudo for more info) `ss` or legacy `netstat` with `-tulpn | -a ` [[Linux-Network-Services]] | `netstat -abno` 
SNMP | [[SNMP-Recon-Cheatsheet]] | 
DNS Zone Tranfer | `dig -t AXFR DOMAIN_NAME @DNS_SERVER`  | 
Domain information/ DNS resolution | varies `resolve.conf` |  

## System/OS/Hardware related
Enumeration Targetable | Linux Specific | Windows Specific
--- | --- | ---
OS | `cat /etc/issue` | `systeminf` (usual admin only)
Applications and banners | Package manager dependent  | `wmic qfe get Caption, Description` 
Firewall configurations |  | 
Service settings and audit configurations  |  | [[Windows-Services]] [[Windows-System-And-Service-Privileges]] 
Kernel Versions | `uname -a` | 
Service Versions | `which`  | `wmic product get name,version,vendor`(may not return all installed programs)
System Misconfigurations |  | 
Scheduled Tasks/Crons | `/etc/crontab` | `schtasks`




## References
[THM Enumeration Room](https://tryhackme.com/room/enumerationpe)