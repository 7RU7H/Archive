# GEF

[Official GEF documentation](https://hugsy.github.io/gef/#gdb-made-easy): *`GEF` (pronounced ʤɛf - "Jeff") is a kick-ass set of commands for X86, ARM, MIPS, PowerPC and SPARC to make GDB cool again for exploit dev. It is aimed to be used mostly by exploit developers and reverse-engineers, to provide additional features to GDB using the Python API to assist during the process of dynamic analysis and exploit development. It requires Python 3, but [`gef-legacy`](https://github.com/hugsy/gef-legacy) can be used if Python 2 support is needed.*

## Usage

A usage for lookup without need to type `gef help` 

```c
gef➤  gef help

c GEF - GDB Enhanced Features 

$
SmartEval: Smart eval (vague approach to mimic WinDBG `?`).
Syntax: $ EXPR
$ ADDRESS1 ADDRESS2
Examples:

$ $pc+1
$ 0x00007ffff7a10000 0x00007ffff7bce000

```
## 
```c
aliases
Base command to add, remove, or list aliases.
Syntax: aliases (add|rm|ls)
Examples:


```
## 
```c
aslr
View/modify the ASLR setting of GDB. By default, GDB will disable ASLR when it starts the process. (i.e. not
attached). This command allows to change that setting.
Syntax: aslr [(on|off)]
Examples:


```
## 
```c
assemble
Inline code assemble. Architecture can be set in GEF runtime config.
Syntax: assemble [-h] [--list-archs] [--mode MODE] [--arch ARCH] [--overwrite-location LOCATION] [--endian ENDIAN] [--as-shellcode] instruction;[instruction;...instruction;])
Examples:

Aliases: asm
```
## 
```c
bincompare
Compare an binary file with the memory position looking for badchars.
Syntax: bincompare MEMORY_ADDRESS FILE
Examples:


```
## 
```c
bytearray
BytearrayCommand: Generate a bytearray to be compared with possible badchars.
Function ported from mona.py
Syntax: bytearray [-b badchars]
Examples:


```
## 
```c
canary
Shows the canary value of the current process.
Syntax: canary
Examples:


```
## 
```c
capstone-disassemble
Use capstone disassembly framework to disassemble code.
Syntax: capstone-disassemble [-h] [--show-opcodes] [--length LENGTH] [LOCATION]
Examples:
        capstone-disassemble --length 50 $pc
Aliases: cs-dis
```
## 
```c
checksec
Checksec the security properties of the current executable or passed as argument. The
command checks for the following protections:
- PIE
- NX
- RelRO
- Glibc Stack Canaries
- Fortify Source
Syntax: checksec [FILENAME]
Examples:
        checksec /bin/ls

```
## 
```c
context
Displays a comprehensive and modular summary of runtime context. Unless setting `enable` is
set to False, this command will be spawned automatically every time GDB hits a breakpoint, a
watchpoint, or any kind of interrupt. By default, it will show panes that contain the register
states, the stack, and the disassembly code around $pc.
Syntax: context [legend|regs|stack|code|args|memory|source|trace|threads|extra]
Examples:

Aliases: ctx
```
## 
```c
current-stack-frame
Show the entire stack of the current frame.
Syntax: current-stack-frame
Examples:
        current-stack-frame
Aliases: stack-view
```
## 
```c
dereference
Dereference recursively from an address and display information. This acts like WinDBG `dps`
command.
Syntax: dereference [-h] [--length LENGTH] [--reference REFERENCE] [address]
Examples:
        dereference --length 20 --reference $sp+0x10 $sp
Aliases: telescope
```
## 
```c
edit-flags
Edit flags in a human friendly way.
Syntax: edit-flags [(+|-|~)FLAGNAME ...]
Examples:

edit-flags
edit-flags +zero # sets ZERO flag
Aliases: flags
```
## 
```c
elf-info
Display a limited subset of ELF header information. If no argument is provided, the command will
show information about the current ELF being debugged.
Syntax: elf-info [FILE]
Examples:
        elf-info /bin/ls

```
## 
```c
entry-break
Tries to find best entry point and sets a temporary breakpoint on it. The command will test for
well-known symbols for entry points, such as `main`, `_main`, `__libc_start_main`, etc. defined by
the setting `entrypoint_symbols`.
Syntax: entry-break
Examples:

Aliases: start
```
## 
```c
error
WinDbg `!error` -like command
Syntax: error
Examples:
        error
Aliases: perror
```
## 
```c
exploit-template
Generates a exploit template.
Syntax: exploit-template [local|remote TARGET:PORT]
Examples:

Aliases: skeleton
```
## 
```c
format-string-helper
Exploitable format-string helper: this command will set up specific breakpoints
at well-known dangerous functions (printf, snprintf, etc.), and check if the pointer
holding the format string is writable, and therefore susceptible to format string
attacks if an attacker can control its content.
Syntax: format-string-helper
Examples:

Aliases: fmtstr-helper
```
## 
```c
ftrace
Tracks a function given in parameter for arguments and return code.
Syntax: ftrace <function_name1>,<nb_args1> [<function_name2>,<nb_args2> ...]
Examples:


```
## 
```c
functions
List the convenience functions provided by GEF.
Syntax: functions
Examples:


```
## 
```c
g
WinDBG compatibility layer: g - go.
Syntax: g
Examples:


```
## 
```c
gef-remote
GDB `target remote` command on steroids. This command will use the remote procfs to create
a local copy of the execution environment, including the target binary and its libraries
in the local temporary directory (the value by default is in `gef.config.tempdir`). Additionally, it
will fetch all the /proc/PID/maps and loads all its information. If procfs is not available remotely, the command
will likely fail. You can however still use the limited command provided by GDB `target remote`.
Syntax: gef-remote [OPTIONS] TARGET
Examples:
        gef-remote localhost 1234
        gef-remote --pid 6789 localhost 1234
        gef-remote --qemu-user --qemu-binary /bin/debugme localhost 4444

```
## 
```c
got
Display current status of the got inside the process.
Syntax: got [FUNCTION_NAME ...]
Examples:
        got read printf exit

```
## 
```c
heap
Base command to get information about the Glibc heap structure.
Syntax: heap (chunk|chunks|bins|arenas|set-arena)
Examples:


```
## 
```c
heap-analysis-helper
Heap vulnerability analysis helper: this command aims to track dynamic heap allocation
done through malloc()/free() to provide some insights on possible heap vulnerabilities. The
following vulnerabilities are checked:
- NULL free
- Use-after-Free
- Double Free
- Heap overlap
Syntax: heap-analysis-helper
Examples:


```
## 
```c
hexdump
Display SIZE lines of hexdump from the memory location pointed by LOCATION.
Syntax: hexdump (qword|dword|word|byte) [LOCATION] [--size SIZE] [--reverse]
Examples:
        hexdump byte $rsp --size 16 --reverse

```
## 
```c
hh
WinDBG compatibility layer: hh - open help in web browser.
Syntax: hh
Examples:


```
## 
```c
highlight
Highlight user-defined text matches in GEF output universally.
Syntax: highlight (add|remove|list|clear)
Examples:

Aliases: hl
```
## 
```c
hijack-fd
ChangeFdCommand: redirect file descriptor during runtime.
Syntax: hijack-fd FD_NUM NEW_OUTPUT
Examples:
        hijack-fd 2 /tmp/stderr_output.txt

```
## 
```c
ida-rpyc
RPyCIda root command
Syntax: ida-rpyc (breakpoints|comments|info|highlight|jump)
Examples:
        ida-rpyc

```
## 
```c
is-syscall
Tells whether the next instruction is a system call.
Syntax: is-syscall
Examples:


```
## 
```c
ksymaddr
Solve kernel symbols from kallsyms table.
Syntax: ksymaddr SymbolToSearch
Examples:
        ksymaddr prepare_creds

```
## 
```c
memory
Add or remove address ranges to the memory view.
Syntax: memory (watch|unwatch|reset|list)
Examples:


```
## 
```c
name-break
Sets a breakpoint and assigns a name to it, which will be shown, when it's hit.
Syntax: name-break name [address]
Examples:

Aliases: nb
```
## 
```c
nop
Patch the instruction(s) pointed by parameters with NOP. Note: this command is architecture
aware.
Syntax: {_cmdline_} [LOCATION] [--i ITEMS] [--f] [--n] [--b]
        LOCATION        address/symbol to patch (by default this command replaces whole instructions)   --i ITEMS       number of items to insert (default 1)   --f     Force patch even when the selected settings could overwrite partial instructions   --n     Instead of replacing whole instructions, insert ITEMS nop instructions, no matter how many instructions it overwrites   --b     Instead of replacing whole instructions, fill ITEMS bytes with nops
Examples:
        nop
        nop $pc+3
        nop --i 2 $pc+3
        nop --b
        nop --b $pc+3
        nop --f --b --i 2 $pc+3nop --n --i 2 $pc+3

```
## 
```c
patch
Write specified values to the specified address.
Syntax: patch (qword|dword|word|byte) LOCATION VALUES
patch string LOCATION "double-escaped string"
Examples:


```
## 
```c
pattern
Generate or Search a De Bruijn Sequence of unique substrings of length N
and a total length of LENGTH. The default value of N is set to match the
currently loaded architecture.
Syntax: pattern (create|search) ARGS
Examples:


```
## 
```c
pc
WinDBG compatibility layer: pc - run until next call.
Syntax: pc [COUNT]
Examples:


```
## 
```c
pcustom
Dump user defined structure.
This command attempts to reproduce WinDBG awesome `dt` command for GDB and allows
to apply structures (from symbols or custom) directly to an address.
Custom structures can be defined in pure Python using ctypes, and should be stored
in a specific directory, whose path must be stored in the `pcustom.struct_path`
configuration setting.
Syntax: pcustom [list|edit <StructureName>|show <StructureName>]|<StructureName> 0xADDRESS]
Examples:


```
## 
```c
peek-pointers
Command to help find pointers belonging to other memory regions helpful in case
of OOB Read when looking for specific pointers
Syntax: peek-pointers starting_address <object_name> <all>
Examples:


```
## 
```c
pie
PIE breakpoint support.
Syntax: pie (breakpoint|info|delete|run|attach|remote)
Examples:


```
## 
```c
print-format
Print bytes format in commonly used formats, such as literals in high level languages.
Syntax: print-format [--lang LANG] [--bitlen SIZE] [(--length,-l) LENGTH] [--clip] LOCATION     --lang LANG specifies the output format for programming language (available: ('py', 'c', 'js', 'asm', 'hex', 'bytearray'), default 'py'). --bitlen SIZE specifies size of bit (possible values: (8, 16, 32, 64), default is 8).    --length LENGTH specifies length of array (default is 256).     --clip The output data will be copied to clipboard      LOCATION specifies where the address of bytes is stored.
Examples:
        print-format --lang py -l 16 $rsp
Aliases: pf
```
## 
```c
process-search
List and filter process. If a PATTERN is given as argument, results shown will be grepped
by this pattern.
Syntax: process-search [-h] [--attach] [--smart-scan] [REGEX_PATTERN]
Examples:
        process-search gdb.*
Aliases: ps
```
## 
```c
process-status
Extends the info given by GDB `info proc`, by giving an exhaustive description of the
process status (file descriptors, ancestor, descendants, etc.).
Syntax: process-status
Examples:

Aliases: status
```
## 
```c
pt
WinDBG compatibility layer: pt - run until next return.
Syntax: pt [COUNT]
Examples:


```
## 
```c
ptc
WinDBG compatibility layer: ptc - run until next call or return.
Syntax: ptc [COUNT]
Examples:


```
## 
```c
r
WinDBG compatibility layer: r - register info
Syntax: r [REGISTER[=VALUE]]
Examples:


```
## 
```c
registers
Display full details on one, many or all registers value from current architecture.
Syntax: registers [[Register1][Register2] ... [RegisterN]]
Examples:

registers
registers $eax $eip $esp

```
## 
```c
reset-cache
Reset cache of all stored data. This command is here for debugging and test purposes, GEF
handles properly the cache reset under "normal" scenario.
Syntax: reset-cache
Examples:


```
## 
```c
retdec
Decompile code from GDB context using RetDec API.
Syntax: retdec [-r RANGE1-RANGE2] [-s SYMBOL] [-a] [-h]
Examples:
        retdec -s main
Aliases: decompile
```
## 
```c
ropper
Ropper (https://scoding.de/ropper/) plugin.
Syntax: ropper [ROPPER_OPTIONS]
Examples:


```
## 
```c
rpyc-remote
A better way of remoting to GDB, using rpyc
Syntax: rpyc-remote
Examples:
        rpyc-remote
Aliases:
```
## 
```c
scan
Search for addresses that are located in a memory mapping (haystack) that belonging
to another (needle).
Syntax: scan HAYSTACK NEEDLE
Examples:

scan stack libc
Aliases: lookup
```
## 
```c
search-pattern
SearchPatternCommand: search a pattern in memory. If given an hex value (starting with 0x)
the command will also try to look for upwards cross-references to this address.
Syntax: search-pattern PATTERN [little|big] [section]
Examples:
        search-pattern AAAAAAAA
        search-pattern 0x555555554000 little stack
        search-pattern AAAA 0x600000-0x601000
        search-pattern --regex 0x401000 0x401500 ([\\x20-\\x7E]{2,})(?=\\x00)   <-- It matchs null-end-printable(from x20-x7e) C strings (min size 2 bytes)
Aliases: grep, xref
```
## 
```c
set-permission
Change a page permission. By default, it will change it to 7 (RWX).
Syntax: set-permission address [permission]
        address         an address within the memory page for which the permissions should be changed
        permission      a 3-bit bitmask with read=1, write=2 and execute=4 as integer
Examples:
        set-permission $sp 7
Aliases: mprotect
```
## 
```c
shellcode
ShellcodeCommand uses @JonathanSalwan simple-yet-awesome shellcode API to
download shellcodes.
Syntax: shellcode (search|get)
Examples:


```
## 
```c
skipi
Skip N instruction(s) execution
Syntax: {_cmdline_} [LOCATION] [--n NUM_INSTRUCTIONS]
        LOCATION        address/symbol from where to skip       --n NUM_INSTRUCTIONS    Skip the specified number of instructions instead of the default 1.
Examples:
        skipi
        skipi --n 3
        skipi 0x69696969
        skipi 0x69696969 --n 6

```
## 
```c
stub
Stub out the specified function. This function is useful when needing to skip one
function to be called and disrupt your runtime flow (ex. fork).
Syntax: stub [--retval RETVAL] [address]        address address/symbol to stub out      --retval RETVAL Set the return value
Examples:
        stub --retval 0 fork

```
## 
```c
sxe
WinDBG compatibility layer: sxe (set-exception-enable): break on loading libraries.
Syntax: sxe [ld,ud]:module
Examples:
        sxe ld:mylib.so

```
## 
```c
syscall-args
Gets the syscall name and arguments based on the register values in the current state.
Syntax: syscall-args
Examples:
        syscall-args

```
## 
```c
tc
WinDBG compatibility layer: tc - trace until next call.
Syntax: tc [COUNT]
Examples:


```
## 
```c
theme
Customize GEF appearance.
Syntax: theme [KEY [VALUE]]
Examples:


```
## 
```c
trace-run
Create a runtime trace of all instructions executed from $pc to LOCATION specified. The
trace is stored in a text file that can be next imported in IDA Pro to visualize the runtime
path.
Syntax: trace-run LOCATION [MAX_CALL_DEPTH]
Examples:
        trace-run 0x555555554610

```
## 
```c
tt
WinDBG compatibility layer: tt - trace until next return.
Syntax: tt [COUNT]
Examples:


```
## 
```c
u
WinDBG compatibility layer: u - disassemble.
Syntax: u
Examples:


```
## 
```c
unicorn-emulate
Use Unicorn-Engine to emulate the behavior of the binary, without affecting the GDB runtime.
By default the command will emulate only the next instruction, but location and number of
instruction can be changed via arguments to the command line. By default, it will emulate
the next instruction from current PC.
Syntax: unicorn-emulate [--start LOCATION] [--until LOCATION] [--skip-emulation] [--output-file PATH] [NB_INSTRUCTION]
        --start LOCATION specifies the start address of the emulated run (default $pc). --until LOCATION specifies the end address of the emulated run. --skip-emulation         do not execute the script once generated.      --output-file /PATH/TO/SCRIPT.py writes the persistent Unicorn script into this file.      NB_INSTRUCTION indicates the number of instructions to execute
Additional options can be setup via `gef config unicorn-emulate`
Examples:
        unicorn-emulate --start $pc 10 --output-file /tmp/my-gef-emulation.py
Aliases: emulate
```
## 
```c
vereference
(v8) Dereference recursively from an address and display information. Handles v8 specific values like tagged and compressed pointers
Syntax: vereference [LOCATION] [l[NB]]
Examples:
        vereference $sp l20
Aliases: v8
```
## 
```c
version
Display GEF version info.
Syntax: version
Examples:
        version

```
## 
```c
visualize-libc-heap-chunks
Visual helper for glibc heap chunks
Syntax: visualize-libc-heap-chunks
Examples:
        visualize-libc-heap-chunks
Aliases: heap-view
```
## 
```c
vmmap
Display a comprehensive layout of the virtual memory mapping. If a filter argument, GEF will
filter out the mapping whose pathname do not match that filter.
Syntax: vmmap [FILTER]
Examples:
        vmmap libc

```
## 
```c
xfiles
Shows all libraries (and sections) loaded by binary. This command extends the GDB command
`info files`, by retrieving more information from extra sources, and providing a better
display. If an argument FILE is given, the output will grep information related to only that file.
If an argument name is also given, the output will grep to the name within FILE.
Syntax: xfiles [FILE [NAME]]
Examples:

xfiles libc
xfiles libc IO_vtables

```
## 
```c
xinfo
Retrieve and display runtime information for the location(s) given as parameter.
Syntax: xinfo LOCATION
Examples:
        xinfo $pc

```
## 
```c
xor-memory
XOR a block of memory. The command allows to simply display the result, or patch it
runtime at runtime.
Syntax: xor-memory (display|patch) ADDRESS SIZE KEY
Examples:


```
## 
```c
xref-telescope
Recursively search for cross-references to a pattern in memory
Syntax: xref-telescope PATTERN [depth]
Examples:
        xref-telescope AAAAAAAA
        xref-telescope 0x555555554000 15
Aliases: grep, xref
```
## 
```c
xs
WinDBG compatibility layer: x - search symbol.
Syntax: xs REGEX
Examples:
```