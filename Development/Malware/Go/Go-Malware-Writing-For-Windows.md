# Go Malware Writing For Windows


This is a must read: [justen.codes Medium article on Using Go to call Window API](https://justen.codes/breaking-all-the-rules-using-go-to-call-windows-api-2cbfd8c79724) tyhen follow-up with: [AnubisSec use of the justen.Codes article](https://anubissec.github.io/How-To-Call-Windows-APIs-In-Golang/#)


```bash
GOOS=windows GOARCH=amd64 go build -ldflags="-s -w -H=windowsgui" -trimpath
```
[GitHub ZephrFish/SandboxSpy](https://github.com/ZephrFish/SandboxSpy)

#### Libary Considerations


#### Loading DLLs

```go
var (
	// Load a dll 
	targetDLL = windows.LOADFUNC("TARGET.dll")
	// Either function
	LIBRARY.NewLazyDLL() // loads the dll at first function call made from it
	LIBRARY.LoadLibrary() // load dll immediately
)

```

#### Calling Procedures


#### Passing Arguments

Arguments
```go
syscall.Syscall() // : less than 4 arguments
syscall.Syscall6() // : 4 to 6 arguments
syscall.Syscall9() // : 7 to 9 arguments
syscall.Syscall12() // : 10 to 12 arguments
syscall.Syscall15() // : 13 to 15 arguments
```